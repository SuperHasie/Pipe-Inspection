{"name":"60942800-c53f-46a4-8230-f45b6cb5d5f2","id":"/providers/Microsoft.Flow/flows/60942800-c53f-46a4-8230-f45b6cb5d5f2","type":"Microsoft.Flow/flows","properties":{"apiId":"/providers/Microsoft.PowerApps/apis/shared_logicflows","displayName":"SelectPipe","definition":{"metadata":{"workflowEntityId":null,"flowclientsuspensionreason":"None","flowclientsuspensiontime":null,"creator":{"id":"9cf3c779-64db-4505-9854-e6685fc4020f","type":"User","tenantId":"2bdc83fe-9b8b-4af8-92bf-9e0069173034"},"provisioningMethod":"FromDefinition","failureAlertSubscription":true,"clientLastModifiedTime":"2020-11-11T09:10:48.1466155Z"},"$schema":"https://schema.management.azure.com/providers/Microsoft.Logic/schemas/2016-06-01/workflowdefinition.json#","contentVersion":"1.0.0.0","parameters":{"$connections":{"defaultValue":{},"type":"Object"},"$authentication":{"defaultValue":{},"type":"SecureObject"}},"triggers":{"manual":{"type":"Request","kind":"PowerApp","inputs":{"schema":{"type":"object","properties":{"Executestoredprocedure(V2)_Pipe":{"type":"string","x-ms-powerflows-param-ispartial":false}},"required":["Executestoredprocedure(V2)_Pipe"]}}}},"actions":{"Execute_stored_procedure_(V2)":{"runAfter":{},"type":"OpenApiConnection","inputs":{"host":{"apiId":"/providers/Microsoft.PowerApps/apis/shared_sql","connectionName":"shared_sql_1","operationId":"ExecuteProcedure_V2"},"parameters":{"server":"BABTRCDAFSOL01","database":"BabcockPie","procedure":"[dbo].[SelectedPipe]","parameters/Pipe":"@triggerBody()['Executestoredprocedure(V2)_Pipe']"},"authentication":{"value":"@json(decodeBase64(triggerOutputs().headers['X-MS-APIM-Tokens']))['$ConnectionKey']","type":"Raw"}}},"Response":{"runAfter":{"Execute_stored_procedure_(V2)":["Succeeded"]},"type":"Response","kind":"Http","inputs":{"statusCode":200,"body":"@body('Execute_stored_procedure_(V2)')['ResultSets']['Table1']","schema":{"type":"array","items":{"type":"object","properties":{"pipe_id":{"type":"integer"},"manufacturer":{"type":"string"},"year":{"type":"integer"},"support_number":{"type":"string"},"support_type":{"type":"string"},"max_load":{"type":"string"},"calibrated_load":{"type":"string"},"req_cold_load":{"type":"string"},"required_travel":{"type":"string"},"max_travel":{"type":"string"},"cold_position":{"type":"string"},"hot_position":{"type":"string"},"system_description":{"type":"string"},"kks_number":{"type":"string"},"pipe_i_d":{"type":"string"},"pipe_wt":{"type":"string"},"pipe_material":{"type":"string"},"design_temp":{"type":"string"},"design_press":{"type":"string"},"travel_direction":{"type":"string"}},"required":["pipe_id","manufacturer","year","support_number","support_type","max_load","calibrated_load","req_cold_load","required_travel","max_travel","cold_position","hot_position","system_description","kks_number","pipe_i_d","pipe_wt","pipe_material","design_temp","design_press","travel_direction"]}}}}},"outputs":{},"description":"Create one or more actions to happen when a button or link in Power Apps is selected. To use this flow from a Power App, select the control you want to trigger the flow and go to the Action tab in the Power Apps ribbon and select Flows."},"connectionReferences":{"shared_sql_1":{"connectionName":"56639d2e648a46858d59212d0fbbe02f","source":"Invoker","id":"/providers/Microsoft.PowerApps/apis/shared_sql","tier":"NotSpecified"}},"flowFailureAlertSubscribed":false}}