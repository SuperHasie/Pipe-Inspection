{"name":"237232be-8130-4d68-93b1-bd7c9a6d432f","id":"/providers/Microsoft.Flow/flows/237232be-8130-4d68-93b1-bd7c9a6d432f","type":"Microsoft.Flow/flows","properties":{"apiId":"/providers/Microsoft.PowerApps/apis/shared_logicflows","displayName":"PIE-Readings","definition":{"metadata":{"workflowEntityId":null,"flowclientsuspensionreason":"None","flowclientsuspensiontime":null,"creator":{"id":"9cf3c779-64db-4505-9854-e6685fc4020f","type":"User","tenantId":"2bdc83fe-9b8b-4af8-92bf-9e0069173034"},"provisioningMethod":"FromDefinition","failureAlertSubscription":true,"clientLastModifiedTime":"2020-11-18T09:29:39.4429991Z"},"$schema":"https://schema.management.azure.com/providers/Microsoft.Logic/schemas/2016-06-01/workflowdefinition.json#","contentVersion":"1.0.0.0","parameters":{"$connections":{"defaultValue":{},"type":"Object"},"$authentication":{"defaultValue":{},"type":"SecureObject"}},"triggers":{"manual":{"type":"Request","kind":"PowerApp","inputs":{"schema":{"type":"object","properties":{"Executestoredprocedure(V2)_Pipe":{"type":"string","x-ms-powerflows-param-ispartial":false},"Executestoredprocedure(V2)_user":{"type":"string","x-ms-powerflows-param-ispartial":false},"Executestoredprocedure(V2)_img":{"type":"integer","x-ms-powerflows-param-ispartial":false}},"required":["Executestoredprocedure(V2)_Pipe","Executestoredprocedure(V2)_user","Executestoredprocedure(V2)_img"]}}}},"actions":{"Execute_stored_procedure_(V2)":{"runAfter":{},"type":"OpenApiConnection","inputs":{"host":{"apiId":"/providers/Microsoft.PowerApps/apis/shared_sql","connectionName":"shared_sql_1","operationId":"ExecuteProcedure_V2"},"parameters":{"server":"BABTRCDAFSOL01","database":"BabcockPie","procedure":"[dbo].[NewReadings]","parameters/Pipe":"@triggerBody()['Executestoredprocedure(V2)_Pipe']","parameters/user":"@triggerBody()['Executestoredprocedure(V2)_user']","parameters/img":"@int(triggerBody()['Executestoredprocedure(V2)_img'])"},"authentication":{"value":"@json(decodeBase64(triggerOutputs().headers['X-MS-APIM-Tokens']))['$ConnectionKey']","type":"Raw"}}},"Response":{"runAfter":{"Execute_stored_procedure_(V2)":["Succeeded"]},"type":"Response","kind":"Http","inputs":{"statusCode":200,"body":"@body('Execute_stored_procedure_(V2)')['ResultSets']['Table1']","schema":{"type":"array","items":{"type":"object","properties":{"reading_id":{"type":"integer"},"reading_no":{"type":"integer"},"date":{"type":"string"},"live_stream":{"type":"string"},"type_of_reading":{"type":"string"},"dial_reading":{"type":"string"},"elevation_on_data":{"type":"string"},"topped_bottomed":{"type":"string"},"etm_dtm":{"type":"string"},"adjustments":{"type":"string"},"comments":{"type":"string"},"pipe_id":{"type":"integer"},"technician_id":{"type":"integer"},"img_id":{"type":"integer"},"pipe_id1":{"type":"integer"},"manufacturer":{"type":"string"},"year":{"type":"integer"},"support_number":{"type":"string"},"support_type":{"type":"string"},"max_load":{"type":"string"},"calibrated_load":{"type":"string"},"req_cold_load":{"type":"string"},"required_travel":{"type":"string"},"max_travel":{"type":"string"},"cold_position":{"type":"string"},"hot_position":{"type":"string"},"system_description":{"type":"string"},"kks_number":{"type":"string"},"pipe_i_d":{"type":"string"},"pipe_wt":{"type":"string"},"pipe_material":{"type":"string"},"design_temp":{"type":"string"},"design_press":{"type":"string"},"travel_direction":{"type":"string"}},"required":["reading_id","reading_no","date","live_stream","type_of_reading","dial_reading","elevation_on_data","topped_bottomed","etm_dtm","adjustments","comments","pipe_id","technician_id","img_id","pipe_id1","manufacturer","year","support_number","support_type","max_load","calibrated_load","req_cold_load","required_travel","max_travel","cold_position","hot_position","system_description","kks_number","pipe_i_d","pipe_wt","pipe_material","design_temp","design_press","travel_direction"]}}}}},"outputs":{},"description":"Create one or more actions to happen when a button or link in Power Apps is selected. To use this flow from a Power App, select the control you want to trigger the flow and go to the Action tab in the Power Apps ribbon and select Flows."},"connectionReferences":{"shared_sql_1":{"connectionName":"56639d2e648a46858d59212d0fbbe02f","source":"Invoker","id":"/providers/Microsoft.PowerApps/apis/shared_sql","tier":"NotSpecified"}},"flowFailureAlertSubscribed":false}}